(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[17],{131:function(t,e,n){"use strict";function r(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}}function i(){this.values=Object.create(null)}function a(t,e,n){function r(){var e=function(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(o);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+s);return t=t.replace(h,""),e}function a(){t=t.replace(p,"")}var s=t;if(a(),e.startTime=r(),a(),"-->"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+s);t=t.substr(3),a(),e.endTime=r(),a(),function(t,e){var r=new i;!function(t,e,n,r){for(var i=r?t.split(r):[t],a=0;a<=i.length;a+=1)if("string"==typeof i[a]){var s=i[a].split(n);2===s.length&&e(s[0],s[1])}}(t,function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),s=a[0];r.integer(t,s),r.percent(t,s)&&r.set("snapToLines",!1),r.alt(t,s,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start",E,"end"]);break;case"position":var u=e.split(",");r.percent(t,u[0]),2===u.length&&r.alt("positionAlign",u[1],["start",E,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",E,"end","left","right"])}},d,g),e.region=r.get("region",null),e.vertical=r.get("vertical","");var a=r.get("line","auto");"auto"===a&&-1===m.line&&(a=-1),e.line=a,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",E);var s=r.get("position","auto");"auto"===s&&50===m.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}n.r(e);var s=n(67),u=n(66),o=/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/,c=/^-?\d+$/,f=/\r\n|\n/,l=/^NOTE($|[ \t])/,h=/^[^\sa-zA-Z-]+/,d=/:/,g=/\s/,p=/^\s+/,b=/-->/,w=/^WEBVTT([ \t].*)?$/,v=function(t,e){this.window=t,this.state="INITIAL",this.buffer="",this.decoder=e||new r,this.regionList=[],this.maxCueBatch=1e3};i.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){c.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return(e=parseFloat(e))>=0&&e<=100&&(this.set(t,e),!0)}};var m=new u.a(0,0,0),E="middle"===m.align?"middle":"center";v.prototype={parse:function(t,e){function n(){for(var t=o.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,o.buffer=t.substr(e),n}function r(){"CUETEXT"===o.state&&o.cue&&o.oncue&&o.oncue(o.cue),o.cue=null,o.state="INITIAL"===o.state?"BADWEBVTT":"BADCUE"}var i,o=this;t&&(o.buffer+=o.decoder.decode(t,{stream:!0}));try{if("INITIAL"===o.state){if(!f.test(o.buffer))return this;var c=(i=n()).match(w);if(!c||!c[0])throw new Error("Malformed WebVTT signature.");o.state="HEADER"}}catch(t){return r(),this}var h=!1,g=0;!function t(){try{for(;o.buffer&&g<=o.maxCueBatch;){if(!f.test(o.buffer))return o.flush(),this;switch(h?h=!1:i=n(),o.state){case"HEADER":d.test(i)||i||(o.state="ID");break;case"NOTE":i||(o.state="ID");break;case"ID":if(l.test(i)){o.state="NOTE";break}if(!i)break;if(o.cue=new u.a(0,0,""),o.state="CUE",!b.test(i)){o.cue.id=i;break}case"CUE":try{a(i,o.cue,o.regionList)}catch(t){o.cue=null,o.state="BADCUE";break}o.state="CUETEXT";break;case"CUETEXT":var c=b.test(i);if(!i||c&&(h=!0)){o.oncue&&(g+=1,o.oncue(o.cue)),o.cue=null,o.state="ID";break}o.cue.text&&(o.cue.text+="\n"),o.cue.text+=i;break;case"BADCUE":i||(o.state="ID")}}if(g=0,o.buffer)Object(s.b)(t);else if(!e)return o.flush(),this}catch(t){return r(),this}}()},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse(void 0,!0)),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},e.default=v},67:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r=window.requestAnimationFrame||function(t){return setTimeout(t,17)},i=window.cancelAnimationFrame||clearTimeout}}]);
